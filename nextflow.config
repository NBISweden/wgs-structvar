params {
    /* Command line parameters */
    bam = "" // The bamfile, on commandline ( --bam )
    runfile = "" // Runfile for run, in case of several bams
    project = "" // Set project or supply on commandline ( --project )
    runfile = "" // Use a runfile instead of bamfiles ( --runfile )
    steps = 'manta,normalize,vep' // Change on commandline --steps x,y,z
    outdir = "results"
    prefix = ''
    help = False

    // Reference assemblies
    ref_fasta = "/sw/data/uppnex/ToolBox/ReferenceAssemblies/hg38make/bundle/2.8/b37/human_g1k_v37.fasta"
    assembly = 'GRCh37'

    // Modules and their versions on the HPC-system
    modules {
        samtools = 'samtools/1.3'
        manta = 'manta/1.0.3'
        fermikit = 'fermikit/r178'
        vcftools = "vcftools/0.1.14"
        tabix = "tabix/0.2.6"
        bedtools = "BEDTools/2.25.0"
        vep = "vep/84"
        snpeff = "snpEff/4.2"
        vt = "vt/0.5772"
    }

    // Runtimes for different parts of the workflow
    runtime {
        simple = '3h'    // Short simple shell jobs
        fermikit = '48h' // Fermikit is the longest running of them all
        caller = '24h'  // The rest are a lot quicker
    }
}

profiles {
    standard {
        process {
            executor = 'slurm'
            queue = 'core'
            clusterOptions = {
                "-A $params.project"
            }
        }
    }
    
    devel {
        process {
            executor = 'slurm'
            queue 'devcore'
            clusterOptions = {
                "-A $params.project"
            }
        }
    }

    // Pass -profile local to run locally
    local {
        process.executor = 'local'
    }
}

executor {
    $slurm {
        queueSize = 30
    }
    $local {
        queueSize = 1
    }
}
